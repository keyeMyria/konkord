/* share42.com | 22.08.2016 | (c) Dimox */
window.addEventListener('load', function() {
    var e = document.getElementsByTagName('div');
    for (var k = 0; k < e.length; k++) {
        if (e[k].className.indexOf('share42init') != -1) {
            if (e[k].getAttribute('data-url') != -1) var u = e[k].getAttribute('data-url');
            if (e[k].getAttribute('data-title') != -1) var t = e[k].getAttribute('data-title');
            if (e[k].getAttribute('data-image') != -1) var i = e[k].getAttribute('data-image');
            if (e[k].getAttribute('data-description') != -1) var d = e[k].getAttribute('data-description');
            if (e[k].getAttribute('data-path') != -1) var f = e[k].getAttribute('data-path');
            if (e[k].getAttribute('data-icons-file') != -1) var fn = e[k].getAttribute('data-icons-file');
            if (!f) {
                function path(name) {
                    var sc = document.getElementsByTagName('script'),
                        sr = new RegExp('^(.*/|)(' + name + ')([#?]|$)');
                    for (var p = 0, scL = sc.length; p < scL; p++) {
                        var m = String(sc[p].src).match(sr);
                        if (m) {
                            if (m[1].match(/^((https?|file)\:\/{2,}|\w:[\/\\])/)) return m[1];
                            if (m[1].indexOf("/") == 0) return m[1];
                            b = document.getElementsByTagName('base');
                            if (b[0] && b[0].href) return b[0].href + m[1];
                            else return document.location.pathname.match(/(.*[\/\\])/)[0] + m[1];
                        }
                    }
                    return null;
                }
                f = path('share42.js');
            }
            if (!u) u = location.href;
            if (!t) t = document.title;
            if (!fn) fn = 'icons.png';

            function desc() {
                var meta = document.getElementsByTagName('meta');
                for (var m = 0; m < meta.length; m++) {
                    if (meta[m].name.toLowerCase() == 'description') {
                        return meta[m].content;
                    }
                }
                return '';
            }
            if (!d) d = desc();
            u = encodeURIComponent(u);
            t = encodeURIComponent(t);
            t = t.replace(/\'/g, '%27');
            i = encodeURIComponent(i);
            d = encodeURIComponent(d);
            d = d.replace(/\'/g, '%27');
            var fbQuery = 'u=' + u;
            if (i != 'null' && i != '') fbQuery = 's=100&p[url]=' + u + '&p[title]=' + t + '&p[summary]=' + d + '&p[images][0]=' + i;
            var vkImage = '';
            if (i != 'null' && i != '') vkImage = '&image=' + i;
            var s = new Array('"#" data-count="fb" data-type="facebook" onclick="window.open(\'//www.facebook.com/sharer/sharer.php?u=' + u + '\', \'_blank\', \'scrollbars=0, resizable=1, menubar=0, left=100, top=100, width=550, height=440, toolbar=0, status=0\');return false" title="Поделиться в Facebook" ', '"#" data-count="gplus" data-type="google+" onclick="window.open(\'//plus.google.com/share?url=' + u + '\', \'_blank\', \'scrollbars=0, resizable=1, menubar=0, left=100, top=100, width=550, height=440, toolbar=0, status=0\');return false" title="Поделиться в Google+"', '"#" data-count="pin" data-type="pinterest" onclick="window.open(\'//pinterest.com/pin/create/button/?url=' + u + '&media=' + i + '&description=' + t + '\', \'_blank\', \'scrollbars=0, resizable=1, menubar=0, left=100, top=100, width=600, height=300, toolbar=0, status=0\');return false" title="Добавить в Pinterest"', '"#" data-count="twi" data-type="twitter"  onclick="window.open(\'//twitter.com/intent/tweet?text=' + t + '&url=' + u + '\', \'_blank\', \'scrollbars=0, resizable=1, menubar=0, left=100, top=100, width=550, height=440, toolbar=0, status=0\');return false" title="Добавить в Twitter"', '"#" data-count="vk" data-type="vk" onclick="window.open(\'//vk.com/share.php?url=' + u + '&title=' + t + vkImage + '&description=' + d + '\', \'_blank\', \'scrollbars=0, resizable=1, menubar=0, left=100, top=100, width=550, height=440, toolbar=0, status=0\');return false" title="Поделиться В Контакте"', '"" onclick="return fav(this);" data-type="favorite" title="Сохранить в избранное браузера"');
            var l = '';
            for (j = 0; j < s.length; j++) l += '<a rel="nofollow" href=' + s[j] + ' target="_blank"></a>';
            e[k].innerHTML = '<span id="share42">' + l + '</span>';
	        setSocialIcon();

        }
    };
}, false);

function fav(a) {
    var title = document.title;
    var url = document.location;
    try {
        window.external.AddFavorite(url, title);
    } catch (e) {
        try {
            window.sidebar.addPanel(title, url, '');
        } catch (e) {
            if (typeof(opera) == 'object' || window.sidebar) {
                a.rel = 'sidebar';
                a.title = title;
                a.url = url;
                a.href = url;
                return true;
            } else {
                alert('Нажмите Ctrl-D, чтобы добавить страницу в закладки');
            }
        }
    }
    return false;
};

function setSocialIcon(){
	$('a[data-type]').each(function(){
		$(this).append( getSocialIcon( $(this) ) );
	});

}

function getSocialIcon(obj){
	var type = obj.data('type'),
		image = sotialIcons[type];
	return image;
}

var sotialIcons = {
	"facebook" :  '   <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="20px"  '  + 
 '   	 height="20px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">  '  + 
 '   <g id="Layer_1">  '  + 
 '   	<path fill-rule="evenodd" clip-rule="evenodd" d="M13.984,2.5v2.604c0,0-0.973,0-1.541,0c-0.566,0-0.867,0.602-0.867,1.027  '  + 
 '   		c0,0.425,0,0.92,0,0.92h2.408l-0.424,2.586h-1.984V17.5H8.141V9.673H6.016V7.051h2.125c0,0,0-0.495,0-1.682S9.379,2.5,11.576,2.5  '  + 
 '   		C13.772,2.5,13.984,2.5,13.984,2.5z"/>  '  + 
 '   	<path display="none" fill-rule="evenodd" clip-rule="evenodd" d="M14.834,4.483c0.106,0.068,0.201,0.151,0.287,0.244  '  + 
 '   		c0.062,0.067,0.127,0.064,0.227,0.049c0.873-0.132,1.771-0.671,1.771-0.671c0.004,0.4-0.652,1.267-1.24,1.64  '  + 
 '   		c0.006,0.068,0.047,0.03,0.076,0.025c0.461-0.063,0.904-0.183,1.338-0.352c0.053-0.02,0.111-0.038,0.164-0.058  '  + 
 '   		c0.047-0.002,0.051,0.022,0.035,0.058c0,0-0.562,0.85-1.393,1.443c-0.057,0.04-0.074,0.08-0.072,0.146  '  + 
 '   		c0.035,1.081-0.131,2.131-0.476,3.152c-0.154,0.461-0.348,0.906-0.574,1.338c-0.014,0.025-0.021,0.054-0.031,0.08  '  + 
 '   		c-0.051,0.087-0.068,0.162-0.152,0.258c-0.443,0.758-0.979,1.441-1.621,2.041c-0.014,0.014-0.024,0.034-0.039,0.048  '  + 
 '   		c-1.082,0.994-2.49,1.564-2.49,1.564c-0.463,0.212-0.949,0.344-1.443,0.452c-0.793,0.175-1.598,0.226-2.408,0.197  '  + 
 '   		c-0.225-0.008-0.449-0.031-0.674-0.047c0,0-0.432-0.043-0.838-0.149c-0.406-0.105-0.809-0.217-1.199-0.369  '  + 
 '   		C3.527,15.359,3,15.099,2.5,14.766c1.662,0.146,3.162-0.263,4.496-1.265c0,0-0.391-0.044-0.836-0.174  '  + 
 '   		c-0.66-0.192-1.188-0.591-1.596-1.144c-0.029-0.027-0.061-0.066-0.084-0.101c-0.137-0.207-0.238-0.433-0.326-0.663  '  + 
 '   		c-0.014-0.034-0.027-0.071-0.002-0.108c0.088,0.009,0.174,0.017,0.262,0.025c0.223,0.017,0.443,0.011,0.666,0  '  + 
 '   		c0.18-0.01,0.311-0.075,0.311-0.075s-0.209-0.074-0.389-0.155c-0.404-0.185-0.773-0.414-1.08-0.74  '  + 
 '   		C3.394,9.803,3.111,9.136,3.064,8.366c-0.004-0.058,0-0.114,0-0.187c0.33,0.156,0.65,0.298,1.006,0.334  '  + 
 '   		c0.043-0.002,0.084,0.008,0.125,0.021c0.031,0.002,0.062,0.004,0.096,0.006C4.32,8.545,4.359,8.58,4.371,8.518  '  + 
 '   		C4.336,8.49,4.301,8.465,4.267,8.439C4.232,8.415,4.203,8.387,4.172,8.362c-0.045-0.058-0.094-0.109-0.152-0.15  '  + 
 '   		C3.986,8.193,3.961,8.169,3.943,8.136c-0.396-0.437-0.67-0.935-0.791-1.515C3.072,6.248,3.06,5.872,3.115,5.497  '  + 
 '   		C3.152,5.233,3.26,4.939,3.26,4.939C3.32,4.777,3.394,4.626,3.474,4.476c0.043-0.079,0.07-0.015,0.098,0.018  '  + 
 '   		c0.336,0.401,0.703,0.773,1.104,1.11C4.83,5.732,4.984,5.861,5.152,5.971c0.025,0.017,0.057,0.026,0.076,0.051  '  + 
 '   		c0.447,0.344,0.939,0.614,1.449,0.851c0.811,0.376,1.664,0.612,2.551,0.73c0.049,0.007,0.102,0.005,0.15,0.007  '  + 
 '   		c0.111,0,0.225-0.01,0.336,0.008C9.806,7.632,9.84,7.591,9.826,7.502C9.795,7.308,9.789,7.111,9.785,6.914  '  + 
 '   		c-0.006-0.29,0.017-0.576,0.15-0.843c0.096-0.289,0.227-0.563,0.381-0.824c0.022-0.038,0.043-0.071,0.076-0.106l0,0  '  + 
 '   		c0.051-0.096,0.101-0.19,0.195-0.254c0.01-0.01,0.019-0.019,0.029-0.028c0.053-0.062,0.106-0.126,0.174-0.173  '  + 
 '   		c0.428-0.378,0.912-0.651,1.475-0.764c0.781-0.155,1.518-0.045,2.213,0.357C14.607,4.354,14.748,4.428,14.834,4.483z"/>  '  + 
 '   	<path display="none" fill-rule="evenodd" clip-rule="evenodd" d="M7.89,17.204c0.111-0.192,0.205-0.356,0.299-0.521  '  + 
 '   		c0.318-0.559,0.483-1.175,0.635-1.794c0.1-0.41,0.205-0.819,0.307-1.229c0.008-0.028,0.02-0.054,0.035-0.097  '  + 
 '   		c0.164,0.249,0.363,0.445,0.617,0.577c0.231,0.121,0.465,0.22,0.725,0.276c0.295,0.063,0.586,0.073,0.877,0.036  '  + 
 '   		c0.324-0.04,0.639-0.118,0.945-0.236c0.787-0.304,1.371-0.84,1.814-1.536c0.484-0.766,0.75-1.612,0.85-2.511  '  + 
 '   		c0.066-0.605,0.092-1.209-0.066-1.803c-0.4-1.493-1.365-2.479-2.789-3.028c-0.832-0.322-1.701-0.378-2.584-0.284  '  + 
 '   		C8.693,5.147,7.88,5.393,7.148,5.862C5.962,6.623,5.21,7.687,4.978,9.086c-0.129,0.787-0.047,1.561,0.289,2.294  '  + 
 '   		c0.238,0.521,0.607,0.922,1.139,1.16c0.246,0.11,0.387,0.046,0.455-0.213c0.051-0.196,0.098-0.394,0.15-0.59  '  + 
 '   		c0.029-0.114,0.018-0.221-0.059-0.311c-0.676-0.785-0.658-1.683-0.394-2.601C6.96,7.43,8.183,6.457,9.636,6.331  '  + 
 '   		c0.619-0.054,1.229-0.019,1.811,0.209c1.078,0.421,1.658,1.227,1.734,2.371c0.066,0.972-0.092,1.913-0.506,2.803  '  + 
 '   		c-0.209,0.445-0.488,0.842-0.889,1.134c-0.352,0.258-0.756,0.383-1.189,0.301c-0.742-0.142-1.113-0.782-0.943-1.441  '  + 
 '   		c0.152-0.589,0.34-1.168,0.502-1.754c0.098-0.347,0.18-0.696,0.147-1.062c-0.076-0.819-0.83-1.227-1.557-0.833  '  + 
 '   		C8.298,8.3,8.06,8.703,7.933,9.176c-0.16,0.594-0.106,1.18,0.098,1.758c0.025,0.077,0.035,0.174,0.016,0.253  '  + 
 '   		c-0.309,1.338-0.625,2.674-0.938,4.01c-0.111,0.473-0.133,0.953-0.129,1.437c0.002,0.071,0,0.142,0,0.233  '  + 
 '   		c-1.264-0.568-2.303-1.399-3.084-2.526c-1.264-1.818-1.68-3.825-1.201-5.988C3.634,4.097,8.066,1.539,12.22,2.84  '  + 
 '   		c4.143,1.299,6.41,5.831,4.709,10.015c-0.781,1.921-2.166,3.289-4.078,4.086C11.245,17.61,9.587,17.654,7.89,17.204z"/>  '  + 
 '   	<polygon display="none" fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" points="10,7.18 6.881,4.062 2.5,8.441 10,15.938   '  + 
 '   		17.5,8.441 13.119,4.062 	"/>  '  + 
 '   	<polygon display="none" stroke="#000000" stroke-miterlimit="10" points="10,7.18 6.881,4.062 2.5,8.441 10,15.938 17.5,8.441   '  + 
 '   		13.119,4.062 	"/>  '  + 
 '   	<polyline display="none" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="7,16.5 13,10 7,3.5 	"/>  '  + 
 '   	<polyline display="none" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="13,3.5 7,10 13,16.5 	"/>  '  + 
 '   </g>  '  + 
 '   <g id="English" display="none">  '  + 
 '   </g>  '  + 
 '   <g id="French" display="none">  '  + 
 '   </g>  '  + 
 '   <g id="German" display="none">  '  + 
 '   </g>  '  + 
 '   <g id="Mandarin" display="none">  '  + 
 '   </g>  '  + 
 '   <g id="Russian" display="none">  '  + 
 '   </g>  '  + 
 '   <g id="Spanish" display="none">  '  + 
 '   </g>  '  + 
 '   <g id="Portuguese" display="none">  '  + 
 '   </g>  '  + 
 '   <g id="Swedish" display="none">  '  + 
 '   </g>  '  + 
 '   <g id="Japanese">  '  + 
 '   </g>  '  + 
 '  </svg>  '  ,
 'google+' :  '   <svg version="1.1" id="Google_x2B_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"  '  + 
 '   	 y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">  '  + 
 '   <path d="M1.989,5.589c0,1.494,0.499,2.572,1.482,3.205c0.806,0.52,1.74,0.598,2.226,0.598c0.118,0,0.213-0.006,0.279-0.01  '  + 
 '   	c0,0-0.154,1.004,0.59,1.996H6.532c-1.289,0-5.493,0.269-5.493,3.727c0,3.516,3.861,3.695,4.636,3.695  '  + 
 '   	c0.061,0,0.097-0.002,0.097-0.002c0.008,0,0.063,0.002,0.158,0.002c0.497,0,1.782-0.062,2.975-0.643  '  + 
 '   	c1.548-0.75,2.333-2.059,2.333-3.885c0-1.764-1.196-2.814-2.069-3.582c-0.533-0.469-0.994-0.873-0.994-1.266  '  + 
 '   	c0-0.4,0.337-0.701,0.762-1.082c0.689-0.615,1.339-1.492,1.339-3.15c0-1.457-0.189-2.436-1.354-3.057  '  + 
 '   	c0.121-0.062,0.551-0.107,0.763-0.137c0.631-0.086,1.554-0.184,1.554-0.699V1.2H6.64C6.594,1.202,1.989,1.372,1.989,5.589z  '  + 
 '   	 M9.413,14.602c0.088,1.406-1.115,2.443-2.922,2.574c-1.835,0.135-3.345-0.691-3.433-2.096c-0.043-0.676,0.254-1.336,0.835-1.863  '  + 
 '   	c0.589-0.533,1.398-0.863,2.278-0.928c0.104-0.006,0.207-0.012,0.31-0.012C8.18,12.278,9.33,13.276,9.413,14.602z M8.212,4.626  '  + 
 '   	c0.451,1.588-0.23,3.246-1.316,3.553C6.771,8.214,6.643,8.231,6.512,8.231c-0.994,0-1.979-1.006-2.345-2.393  '  + 
 '   	C3.963,5.062,3.98,4.38,4.214,3.726c0.229-0.645,0.643-1.078,1.163-1.225c0.125-0.035,0.254-0.053,0.385-0.053  '  + 
 '   	C6.962,2.448,7.734,2.946,8.212,4.626z M16,8V5h-2v3h-3v2h3v3h2v-3h3V8H16z"/>  '  + 
 '   </svg>  '  + 
 '    '  ,
 "pinterest" :  '   <svg version="1.1" id="Pinterest" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  '  + 
 '   	 viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">  '  + 
 '   <path d="M8.617,13.227C8.091,15.981,7.45,18.621,5.549,20C4.963,15.838,6.41,12.713,7.083,9.395  '  + 
 '   	c-1.147-1.93,0.138-5.812,2.555-4.855c2.975,1.176-2.576,7.172,1.15,7.922c3.891,0.781,5.479-6.75,3.066-9.199  '  + 
 '   	C10.369-0.275,3.708,3.18,4.528,8.245c0.199,1.238,1.478,1.613,0.511,3.322c-2.231-0.494-2.897-2.254-2.811-4.6  '  + 
 '   	c0.138-3.84,3.449-6.527,6.771-6.9c4.201-0.471,8.144,1.543,8.689,5.494c0.613,4.461-1.896,9.293-6.389,8.945  '  + 
 '   	C10.081,14.411,9.571,13.807,8.617,13.227z"/>  '  + 
 '   </svg>  '  + 
 '    '  ,
 "twitter" :  '   <svg version="1.1" id="Twitter" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  '  + 
 '   	 viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">  '  + 
 '   <path d="M17.316,6.246c0.008,0.162,0.011,0.326,0.011,0.488c0,4.99-3.797,10.742-10.74,10.742c-2.133,0-4.116-0.625-5.787-1.697  '  + 
 '   	c0.296,0.035,0.596,0.053,0.9,0.053c1.77,0,3.397-0.604,4.688-1.615c-1.651-0.031-3.046-1.121-3.526-2.621  '  + 
 '   	c0.23,0.043,0.467,0.066,0.71,0.066c0.345,0,0.679-0.045,0.995-0.131c-1.727-0.348-3.028-1.873-3.028-3.703c0-0.016,0-0.031,0-0.047  '  + 
 '   	c0.509,0.283,1.092,0.453,1.71,0.473c-1.013-0.678-1.68-1.832-1.68-3.143c0-0.691,0.186-1.34,0.512-1.898  '  + 
 '   	C3.942,5.498,6.725,7,9.862,7.158C9.798,6.881,9.765,6.594,9.765,6.297c0-2.084,1.689-3.773,3.774-3.773  '  + 
 '   	c1.086,0,2.067,0.457,2.756,1.191c0.859-0.17,1.667-0.484,2.397-0.916c-0.282,0.881-0.881,1.621-1.66,2.088  '  + 
 '   	c0.764-0.092,1.49-0.293,2.168-0.594C18.694,5.051,18.054,5.715,17.316,6.246z"/>  '  + 
 '   </svg>  '  + 
 '    '  ,
 'vk':  '   <svg version="1.1" id="VK" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  '  + 
 '   	 viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">  '  + 
 '   <path fill-rule="evenodd" clip-rule="evenodd" d="M17.802,12.298c0,0,1.617,1.597,2.017,2.336c0.011,0.016,0.016,0.028,0.018,0.035  '  + 
 '   	c0.163,0.273,0.203,0.487,0.123,0.645c-0.135,0.261-0.592,0.392-0.747,0.403c0,0-2.778,0-2.858,0c-0.199,0-0.613-0.052-1.117-0.4  '  + 
 '   	c-0.385-0.269-0.768-0.712-1.139-1.145c-0.554-0.643-1.033-1.201-1.518-1.201c-0.062,0-0.122,0.01-0.18,0.03  '  + 
 '   	c-0.367,0.116-0.833,0.639-0.833,2.032c0,0.436-0.344,0.684-0.585,0.684c0,0-1.248,0-1.309,0c-0.446,0-2.768-0.156-4.827-2.327  '  + 
 '   	c-2.523-2.658-4.789-7.99-4.811-8.037C-0.105,5.008,0.191,4.82,0.511,4.82h2.886c0.387,0,0.513,0.234,0.601,0.444  '  + 
 '   	c0.102,0.241,0.48,1.205,1.1,2.288c1.004,1.762,1.621,2.479,2.114,2.479c0.093,0,0.181-0.023,0.264-0.07  '  + 
 '   	c0.644-0.354,0.524-2.654,0.494-3.128c0-0.092-0.001-1.027-0.331-1.479C7.403,5.03,7.001,4.904,6.758,4.858  '  + 
 '   	c0.065-0.094,0.203-0.238,0.38-0.323c0.441-0.22,1.238-0.252,2.029-0.252h0.439c0.858,0.012,1.08,0.067,1.392,0.146  '  + 
 '   	c0.628,0.15,0.64,0.557,0.585,1.943c-0.016,0.396-0.033,0.842-0.033,1.367c0,0.112-0.005,0.237-0.005,0.364  '  + 
 '   	c-0.019,0.711-0.044,1.512,0.458,1.841c0.064,0.04,0.139,0.062,0.217,0.062c0.174,0,0.695,0,2.108-2.425  '  + 
 '   	c0.62-1.071,1.1-2.334,1.133-2.429c0.028-0.053,0.112-0.202,0.214-0.262c0.078-0.048,0.182-0.056,0.236-0.056h3.395  '  + 
 '   	c0.37,0,0.621,0.056,0.67,0.196c0.082,0.227-0.016,0.92-1.566,3.016c-0.261,0.349-0.49,0.651-0.691,0.915  '  + 
 '   	C16.314,10.805,16.314,10.898,17.802,12.298z"/>  '  + 
 '   </svg>  '  + 
 '    '  ,
 "favorite":  '   <svg version="1.1" id="Star" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  '  + 
 '   	 viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">  '  + 
 '   <path d="M10,1.3l2.388,6.722H18.8l-5.232,3.948l1.871,6.928L10,14.744l-5.438,4.154l1.87-6.928L1.199,8.022h6.412L10,1.3z"/>  '  + 
 '   </svg>  '  + 
 '    '  

}